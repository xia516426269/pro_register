<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script>
		function repeat(){
			//0.获取用户输入数据
			var _uname=uname.value;
			//1.创建异步对象
			var xhr=new XMLHttpRequest();
			//4.接收响应 创建监听
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4 && xhr.status==200){
					var r=xhr.responseText;
				if(r==1){alert("用户名重复")}
				else{alert("用户名可用")}
				}
			}
			//2.
			xhr.open("get",`/pro/v1/repeat/${_uname}`,true)
			//3.发送请求
			xhr.send()
		}
		
	</script>
	<body>
		<input type="text" id="uname">
		<button onclick="repeat()">查询</button>
	</body>
</html>
